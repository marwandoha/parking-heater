# Example configuration.yaml entries

# If you need to enable debug logging for the integration
logger:
  default: info
  logs:
    custom_components.parking_heater: debug
    bleak: debug

# Example automations
automation:
  # Warm up car before work on weekdays (single heater)
  - alias: "Warm up car before work"
    trigger:
      - platform: time
        at: "07:00:00"
    condition:
      - condition: time
        weekday:
          - mon
          - tue
          - wed
          - thu
          - fri
    action:
      - service: climate.set_hvac_mode
        target:
          entity_id: climate.parking_heater
        data:
          hvac_mode: heat
      - service: climate.set_temperature
        target:
          entity_id: climate.parking_heater
        data:
          temperature: 22

  # Warm up car with MULTIPLE heaters
  - alias: "Warm up car - both heaters"
    trigger:
      - platform: time
        at: "07:00:00"
    condition:
      - condition: time
        weekday:
          - mon
          - tue
          - wed
          - thu
          - fri
    action:
      # Turn on both heaters
      - service: climate.set_hvac_mode
        target:
          entity_id:
            - climate.front_parking_heater
            - climate.rear_parking_heater
        data:
          hvac_mode: heat
      # Set temperature for both
      - service: climate.set_temperature
        target:
          entity_id:
            - climate.front_parking_heater
            - climate.rear_parking_heater
        data:
          temperature: 22
      # Optional: Different temperatures for each
      - service: climate.set_temperature
        target:
          entity_id: climate.front_parking_heater
        data:
          temperature: 24
      - service: climate.set_temperature
        target:
          entity_id: climate.rear_parking_heater
        data:
          temperature: 20

  # Turn off heater after 30 minutes to save fuel
  - alias: "Auto turn off heater after 30 minutes"
    trigger:
      - platform: state
        entity_id: climate.parking_heater
        to: "heat"
        for:
          minutes: 30
    action:
      - service: climate.set_hvac_mode
        target:
          entity_id: climate.parking_heater
        data:
          hvac_mode: "off"
      - service: notify.mobile_app
        data:
          title: "Parking Heater"
          message: "Heater automatically turned off after 30 minutes"

  # Auto turn off MULTIPLE heaters after 30 minutes
  - alias: "Auto turn off both heaters after 30 minutes"
    trigger:
      - platform: state
        entity_id: climate.front_parking_heater
        to: "heat"
        for:
          minutes: 30
      - platform: state
        entity_id: climate.rear_parking_heater
        to: "heat"
        for:
          minutes: 30
    action:
      - service: climate.turn_off
        target:
          entity_id:
            - climate.front_parking_heater
            - climate.rear_parking_heater
      - service: notify.mobile_app
        data:
          title: "Parking Heaters"
          message: "Both heaters automatically turned off after 30 minutes"

  # Turn on heater when temperature drops below threshold
  - alias: "Turn on heater when cold"
    trigger:
      - platform: numeric_state
        entity_id: weather.home
        attribute: temperature
        below: 0
    condition:
      - condition: time
        after: "06:00:00"
        before: "08:00:00"
    action:
      - service: climate.turn_on
        target:
          entity_id: climate.parking_heater
      - service: climate.set_temperature
        target:
          entity_id: climate.parking_heater
        data:
          temperature: 20

# Example scripts
script:
  # Quick start heater with preset values
  quick_warm_car:
    alias: "Quick Warm Car"
    sequence:
      - service: climate.set_hvac_mode
        target:
          entity_id: climate.parking_heater
        data:
          hvac_mode: heat
      - service: climate.set_temperature
        target:
          entity_id: climate.parking_heater
        data:
          temperature: 22
      - service: climate.set_fan_mode
        target:
          entity_id: climate.parking_heater
        data:
          fan_mode: "3"

  # Eco mode - lower temperature and fan speed
  eco_warm_car:
    alias: "Eco Warm Car"
    sequence:
      - service: climate.set_hvac_mode
        target:
          entity_id: climate.parking_heater
        data:
          hvac_mode: heat
      - service: climate.set_temperature
        target:
          entity_id: climate.parking_heater
        data:
          temperature: 18
      - service: climate.set_fan_mode
        target:
          entity_id: climate.parking_heater
        data:
          fan_mode: "2"

# Example input_boolean for manual control
input_boolean:
  parking_heater_auto:
    name: Parking Heater Auto Mode
    icon: mdi:car-wireless

# Example input_number for custom temperature
input_number:
  parking_heater_target_temp:
    name: Parking Heater Target Temperature
    min: 8
    max: 36
    step: 1
    unit_of_measurement: "Â°C"
    icon: mdi:thermometer
